montageDefine("7892c9a","test/simple/test-stream2-read-sync-stack",{dependencies:["../common","assert","../../readable"],factory:function(e){e("../common");var t=e("assert"),n=e("../../readable").Readable,i=new n,r=262144;process.maxTickDepth=r+2;var a=0;i._read=function(){var e=a++===r?null:new Buffer(1);i.push(e)},i.on("readable",function(){i._readableState.length%256||console.error("readable",i._readableState.length),i.read(2*r)});var s=!1;i.on("end",function(){s=!0}),i.read(0),process.on("exit",function(){t(s),console.log("ok")})}});